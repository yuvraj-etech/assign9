<div class="panel panel-info">
    <div class="panel-heading"><h5>User Dashboard</h5></div>
    <nav class="navbar navbar-inverse">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="">
                    <img alt="Brand" src="assets/images/logo.png" width="120" height="30">
                </a>
            </div>
            <ul class="nav nav-tabs">
                <li role="presentation" class="active"><a href="#/dashboard">Dashboard</a></li>
                <li role="presentation"><a href="#">Profile</a></li>
                <li role="presentation"><a href="#">Messages</a></li>
                <li role="presentation" class="dropdown" ng-repeat="x in userData track by $index">
                    <a class="dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">
                        <span class="glyphicon glyphicon-user"> </span> {{x.name}} <span class="caret"></span>
                    </a>
                    <ul class="dropdown-menu">
                        <li><a ng-click="logout()" href="#/"><span class="glyphicon glyphicon-log-out"></span> Logout</a></li>
                    </ul>
                </li>
            </ul>
        </div><!-- /.container-fluid -->
    </nav>

    <div class="panel-body">
        <div class="col-md-12">
            <div class="row">

                <div class="col-sm-2">
                    <div left-menu id="left_menu"></div>
                </div>
                <div class="profile">
                    <div class="col-md-10">
                        <div class="panel panel-primary">
                            <div class="panel-heading">All Tasks</div>
                            <div class="panel-body">
                                <button ng-click="deleteSelected()" class="btn btn-primary">Delete Selected</button>
                                <table class="table table-bordered" ng-keydown="$event.which === 27 && showEditRow(x)">
                                    <colgroup>
                                        <col width="10%">
                                        <col width="10%">
                                        <col width="30%">
                                        <col width="30%">
                                        <col width="10%">
                                        <col width="10%">
                                    </colgroup>
                                    <input type="text" ng-model="searchTask" name="name" placeholder="Search for a task" class="form-control" autocomplete="off">
                                    <tr class="success"><th>Select</th><th>Task Status</th><th>Task Name</th><th>Due Date</th><th>Edit Task</th><th>Delete Task</th></tr>
                                    <tr ng-repeat="x in data| filter:searchTask track by $index " ng-class="(x.task_status == 'No') ? 'red' : 'grey'">
                                        <td>
                                            <input type="checkbox" ng-checked="selection.indexOf(x.id) > - 1" ng-click="selectedIds(x.id)" /> 
                                        </td>
                                        <td>
                                            <input type="checkbox" ng-model="x.task_status" ng-true-value="'Yes'" ng-false-value="'No'" ng-change="saveEditTask(x)">
                                        </td>
                                        <td>
                                            <span ng-hide="active == x" ng-click="showEditRow(x)">{{x.task_name}}</span>
                                            <input class="form-control input-sm" ng-show="active == x" ng-model="x.task_name" ng-keydown="$event.which === 13 && saveEditTask(x)" ng-focus="isFocused">
                                        </td>
                                        <td>
                                            <span ng-hide="active == x" ng-click="showEditRow(x)">{{x.due_date}}</span>
                                    <datepicker date-format="yyyy-MM-dd" date-min-limit="2015-11-11">
                                        <input class="form-control input-sm" ng-show="active == x" ng-model="x.due_date" ng-keydown="$event.which === 13 && saveEditTask(x)">
                                    </datepicker>
                                    </td>
                                    <td><a href="" ng-click="showEditRow(x)"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Edit</a>
                                        <br/><a href="" ng-click="saveEditTask(x)" ng-show="active == x"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Save</a></td>
                                    <td><a href="" ng-click="deleteTask(x.id)"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span> Delete</a></td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>                 
        </div>
    </div>
</div>
<!-- Modal -->
<div class="modal fade" id="addNewTask" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="myModalLabel">Add New Task</h4>
            </div>
            <div class="modal-body">
                <form class="form-horizontal" name="newTaskForm" autocomplete="off">
                    <div class="form-group">
                        <label class="col-sm-3 control-label">Task Name</label>
                        <div class="col-sm-9">
                            <input type="text" ng-model="taskName" name="name" placeholder="Please Enter Task Name" class="form-control" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 control-label">Task Due Date</label>
                        <div class="col-sm-9">
                            <datepicker date-format="yyyy/MM/dd" date-min-limit="2015-11-11">
                                <input ng-model="dueDate" type="text" placeholder="Please Enter Due Date" class="form-control" required />
                            </datepicker>
                        </div>
                    </div>
                    <button class="btn btn-lg btn-primary btn-block" id="submit" href="#/" ng-click="addTask()" type="submit" data-dismiss="modal">Add Task</button>
                </form>
            </div>
        </div>
    </div>
</div>